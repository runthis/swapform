{
"version":3,
"file":"js/dist/swapform.min.js",
"lineCount":12,
"mappings":"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",
"sources":["js/src/swapform.js"],
"sourcesContent":["/*!\n * --------------------------------------------------------------------------\n * Swapform (v1.0): swapform.js\n * Licensed under MIT (https://github.com/runthis/swapform/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nclass FormControl {\n\tconstructor() {\n\t\tthis.default();\n\t\tthis.event();\n\t}\n\t\n\tdefault() {\n\t\tfor( let element of this.elements() ) {\n\t\t\t\n\t\t\tthis.create(element);\n\t\t\t\n\t\t\tif( !this.empty(element) ) {\n\t\t\t\tif( !this.class(this.prev(element)).contains('sf-label-active') ) {\n\t\t\t\t\tthis.planimate(this.prev(element), function(element, control){\n\t\t\t\t\t\tcontrol.blur(control.next(element), control);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tif( element.className.indexOf('sf-textarea') != -1 && element.className.indexOf('-fixed') == -1 ) {\n\t\t\t\tthis.rows(element);\n\t\t\t}\n\t\t}\n\t}\n\t\n\tevent() {\n\t\tfor( let element of this.elements() ) {\n\t\t\telement.addEventListener('focus', () => {\n\t\t\t\tthis.focus(element, this);\n\t\t\t});\n\t\t\t\n\t\t\telement.addEventListener('blur', () => {\n\t\t\t\tthis.blur(element, this);\n\t\t\t});\n\t\t\t\n\t\t\tif( element.className.indexOf('sf-textarea') != -1 && element.className.indexOf('-fixed') == -1 ) {\n\t\t\t\telement.addEventListener('input', (event) => {\n\t\t\t\t\tthis.rows(element);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\t\n\tfocus(element, control) {\n\t\t\n\t\tif( !control.empty(element) ) {\n\t\t\tcontrol.swap(control.prev(element), 'description');\n\t\t}\n\t\t\n\t\tcontrol.class(control.prev(element)).remove('sf-label-filled');\n\t\tif( !control.class(control.prev(element)).contains('sf-label-active') ) {\n\t\t\tcontrol.class(control.prev(element)).add('sf-label-active');\n\t\t\tcontrol.swap(control.prev(element), 'description');\n\t\t}\n\t\t\n\t\tcontrol.borders(element);\n\t}\n\t\n\tblur(element, control) {\n\t\tif( !control.empty(element) ) {\n\t\t\tcontrol.class(control.prev(element)).add('sf-label-filled');\n\t\t\tif( !control.class(control.prev(element)).contains('sf-label-active') ) {\n\t\t\t\tcontrol.class(control.prev(element)).add('sf-label-active');\n\t\t\t}\n\t\t\t\n\t\t\tif( !control.data(control.prev(element)).filled ) {\n\t\t\t\t\n\t\t\t\tcontrol.swap(control.prev(element), 'originaltext');\n\t\t\t} else {\n\t\t\t\tcontrol.swap(control.prev(element), 'filled');\n\t\t\t}\n\t\t\t\n\t\t\tcontrol.borders(element);\n\t\t\t\n\t\t} else {\n\t\t\t\n\t\t\tif( element.type != 'date' ) {\n\t\t\t\tcontrol.class(control.prev(element)).remove('sf-label-active');\n\t\t\t\tcontrol.next(control.next(element).firstElementChild).classList.remove('sf-label-no-border-top');\n\t\t\t}\n\t\t\t\n\t\t\tcontrol.swap(control.prev(element), 'originaltext');\n\t\t}\n\t\t\n\t}\n\t\n\tswap(element, type) {\n\t\tif( !this.data(element).originaltext ) {\n\t\t\tthis.data(element).originaltext = element.innerHTML;\n\t\t}\n\t\t\n\t\tif( this.data(element)[type] ) {\n\t\t\telement.innerHTML = this.data(element)[type];\n\t\t}\n\t}\n\t\n\telements() {\n\t\tlet list = [];\n\t\tlet blacklist = ['file', 'color'];\n\t\tfor( let element of this.query() ) {\n\t\t\tif( blacklist.indexOf(element.nextElementSibling.type) == -1 ) {\n\t\t\t\tlist.push(element.nextElementSibling);\n\t\t\t} else {\n\t\t\t\tthis.class(element).remove('sf-label');\n\t\t\t}\n\t\t}\n\t\treturn list;\n\t}\n\t\n\tquery() {\n\t\treturn document.querySelectorAll('[class^=\"sf-label\"]');\n\t}\n\t\n\tfilled(element) {\n\t\tif( this.data(element).description ) {\n\t\t\tlet old = element.innerHTML;\n\t\t\telement.innerHTML = this.data(element).description;\n\t\t\tthis.data(element).description = old;\n\t\t}\n\t}\n\t\n\tplanimate(element, callback) {\n\t\telement.style.transition = 'none';\n\t\tcallback(element, this)\n\t\telement.style.transition = '';\n\t}\n\t\n\tdata(element) {\n\t\treturn element.dataset;\n\t}\n\t\n\tclass(element) {\n\t\treturn element.classList;\n\t}\n\t\n\tprev(element) {\n\t\treturn element.previousElementSibling;\n\t}\n\t\n\tnext(element) {\n\t\treturn element.nextElementSibling;\n\t}\n\t\n\tempty(element) {\n\t\t\n\t\tif( element.value !== undefined ) {\n\t\t\treturn element.value.length == 0;\n\t\t} else if( element.innerText !== undefined ) {\n\t\t\treturn element.innerText.trim().length == 0;\n\t\t}\n\t\t\n\t\treturn false;\n\t}\n\t\n\twidths(element, width) {\n\t\t\n\t\tif( this.class(element).contains('sf-label-sm') || this.class(element).contains('sf-label-filled') ||  !this.empty(this.next(element))  ) {\n\t\t\treturn width;\n\t\t}\n\t\treturn (width * .75);\n\t}\n\t\n\tcreate(element) {\n\t\tlet div = () => {\n\t\t\treturn document.createElement('div');\n\t\t};\n\t\t\n\t\tlet container = div();\n\t\tlet left = div();\n\t\tlet middle = div();\n\t\tlet right = div();\n\t\t\n\t\t\n\t\tcontainer.className = 'sf-form-slot';\n\t\tleft.className = 'sf-form-slot-left';\n\t\tmiddle.className = 'sf-form-slot-middle';\n\t\tright.className = 'sf-form-slot-right';\n\t\t\n\t\t\n\t\tcontainer.appendChild(left);\n\t\tcontainer.appendChild(middle);\n\t\tcontainer.appendChild(right);\n\t\t\n\t\telement.after(container);\n\t}\n\t\n\trows(element) {\n\t\tif( element.style.height && element.style.height != '32px' ) {\n\t\t\telement.style.height = '32px';\n\t\t}\n\t\t\n\t\tif( element.scrollHeight != element.clientHeight ) {\n\t\t\telement.style.height = (element.scrollHeight + 32) + 'px';\n\t\t}\n\t}\n\t\n\tborders(element) {\n\t\tlet leftWidth = this.prev(element).offsetLeft;\n\t\tlet middleWidth = this.widths(this.prev(element), this.prev(element).offsetWidth)+ 2;\n\t\tlet rightWidth = element.offsetWidth - middleWidth - leftWidth;\n\t\tlet firstChild = this.next(element).firstElementChild;\n\t\t\n\t\tfirstChild.style.width = leftWidth + 'px';\n\t\tthis.next(firstChild).style.width = middleWidth + 'px';\n\t\tthis.next(firstChild).classList.add('sf-label-no-border-top');\n\t}\n}\n\n(function() {\n\tnew FormControl;\n})();\n"],
"names":["FormControl","constructor","default","event","element","elements","create","empty","class","prev","contains","planimate","control","blur","next","className","indexOf","rows","addEventListener","focus","swap","remove","add","borders","type","firstElementChild","classList","data","filled","originaltext","innerHTML","list","blacklist","query","nextElementSibling","push","document","querySelectorAll","description","old","callback","style","transition","dataset","previousElementSibling","undefined","value","length","innerText","trim","widths","width","container","createElement","left","middle","right","appendChild","after","height","scrollHeight","clientHeight","leftWidth","offsetLeft","middleWidth","offsetWidth","firstChild"]
}
