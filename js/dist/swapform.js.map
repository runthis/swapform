{
"version":3,
"file":"dist/js/swapform.js",
"lineCount":175,
"mappings":"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",
"sources":["js/src/swapform.js"],
"sourcesContent":["/*!\n * --------------------------------------------------------------------------\n * Swapform (v1.0): swapform.js\n * Licensed under MIT (https://github.com/runthis/swapform/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nclass FormControl {\n\tconstructor() {\n\t\tthis.default();\n\t\tthis.event();\n\t}\n\t\n\tdefault() {\n\t\tfor( let element of this.elements() ) {\n\t\t\t\n\t\t\tthis.create(element);\n\t\t\t\n\t\t\tif( !this.empty(element) ) {\n\t\t\t\tif( !this.class(this.prev(element)).contains('sf-label-active') ) {\n\t\t\t\t\tthis.planimate(this.prev(element), function(element, control){\n\t\t\t\t\t\tcontrol.blur(control.next(element), control);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tif( element.className.indexOf('sf-textarea') != -1 && element.className.indexOf('-fixed') == -1 ) {\n\t\t\t\tthis.rows(element);\n\t\t\t}\n\t\t}\n\t}\n\t\n\tevent() {\n\t\tfor( let element of this.elements() ) {\n\t\t\telement.addEventListener('focus', () => {\n\t\t\t\tthis.focus(element, this);\n\t\t\t});\n\t\t\t\n\t\t\telement.addEventListener('blur', () => {\n\t\t\t\tthis.blur(element, this);\n\t\t\t});\n\t\t\t\n\t\t\tif( element.className.indexOf('sf-textarea') != -1 && element.className.indexOf('-fixed') == -1 ) {\n\t\t\t\telement.addEventListener('input', (event) => {\n\t\t\t\t\tthis.rows(element);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\t\n\tfocus(element, control) {\n\t\t\n\t\tif( !control.empty(element) ) {\n\t\t\tcontrol.swap(control.prev(element), 'description');\n\t\t}\n\t\t\n\t\tcontrol.class(control.prev(element)).remove('sf-label-filled');\n\t\tif( !control.class(control.prev(element)).contains('sf-label-active') ) {\n\t\t\tcontrol.class(control.prev(element)).add('sf-label-active');\n\t\t\tcontrol.swap(control.prev(element), 'description');\n\t\t}\n\t\t\n\t\tcontrol.borders(element);\n\t}\n\t\n\tblur(element, control) {\n\t\tif( !control.empty(element) ) {\n\t\t\tcontrol.class(control.prev(element)).add('sf-label-filled');\n\t\t\tif( !control.class(control.prev(element)).contains('sf-label-active') ) {\n\t\t\t\tcontrol.class(control.prev(element)).add('sf-label-active');\n\t\t\t}\n\t\t\t\n\t\t\tif( !control.data(control.prev(element)).filled ) {\n\t\t\t\t\n\t\t\t\tcontrol.swap(control.prev(element), 'originaltext');\n\t\t\t} else {\n\t\t\t\tcontrol.swap(control.prev(element), 'filled');\n\t\t\t}\n\t\t\t\n\t\t\tcontrol.borders(element);\n\t\t\t\n\t\t} else {\n\t\t\t\n\t\t\tif( element.type != 'date' ) {\n\t\t\t\tcontrol.class(control.prev(element)).remove('sf-label-active');\n\t\t\t\tcontrol.next(control.next(element).firstElementChild).classList.remove('sf-label-no-border-top');\n\t\t\t}\n\t\t\t\n\t\t\tcontrol.swap(control.prev(element), 'originaltext');\n\t\t}\n\t\t\n\t}\n\t\n\tswap(element, type) {\n\t\tif( !this.data(element).originaltext ) {\n\t\t\tthis.data(element).originaltext = element.innerHTML;\n\t\t}\n\t\t\n\t\tif( this.data(element)[type] ) {\n\t\t\telement.innerHTML = this.data(element)[type];\n\t\t}\n\t}\n\t\n\telements() {\n\t\tlet list = [];\n\t\tlet blacklist = ['file', 'color', 'range'];\n\t\tfor( let element of this.query() ) {\n\t\t\tif( blacklist.indexOf(element.nextElementSibling.type) == -1 ) {\n\t\t\t\tlist.push(element.nextElementSibling);\n\t\t\t} else {\n\t\t\t\tthis.class(element).remove('sf-label');\n\t\t\t}\n\t\t}\n\t\treturn list;\n\t}\n\t\n\tquery() {\n\t\treturn document.querySelectorAll('[class^=\"sf-label\"]');\n\t}\n\t\n\tfilled(element) {\n\t\tif( this.data(element).description ) {\n\t\t\tlet old = element.innerHTML;\n\t\t\telement.innerHTML = this.data(element).description;\n\t\t\tthis.data(element).description = old;\n\t\t}\n\t}\n\t\n\tplanimate(element, callback) {\n\t\telement.style.transition = 'none';\n\t\tcallback(element, this)\n\t\telement.style.transition = '';\n\t}\n\t\n\tdata(element) {\n\t\treturn element.dataset;\n\t}\n\t\n\tclass(element) {\n\t\treturn element.classList;\n\t}\n\t\n\tprev(element) {\n\t\treturn element.previousElementSibling;\n\t}\n\t\n\tnext(element) {\n\t\treturn element.nextElementSibling;\n\t}\n\t\n\tempty(element) {\n\t\t\n\t\tif( element.value !== undefined ) {\n\t\t\treturn element.value.length == 0;\n\t\t} else if( element.innerText !== undefined ) {\n\t\t\treturn element.innerText.trim().length == 0;\n\t\t}\n\t\t\n\t\treturn false;\n\t}\n\t\n\twidths(element, width) {\n\t\t\n\t\tif( this.class(element).contains('sf-label-sm') || this.class(element).contains('sf-label-filled') ||  !this.empty(this.next(element))  ) {\n\t\t\treturn width;\n\t\t}\n\t\treturn (width * .75);\n\t}\n\t\n\tcreate(element) {\n\t\tlet div = () => {\n\t\t\treturn document.createElement('div');\n\t\t};\n\t\t\n\t\tlet container = div();\n\t\tlet left = div();\n\t\tlet middle = div();\n\t\tlet right = div();\n\t\t\n\t\t\n\t\tcontainer.className = 'sf-form-slot';\n\t\tleft.className = 'sf-form-slot-left';\n\t\tmiddle.className = 'sf-form-slot-middle';\n\t\tright.className = 'sf-form-slot-right';\n\t\t\n\t\t\n\t\tcontainer.appendChild(left);\n\t\tcontainer.appendChild(middle);\n\t\tcontainer.appendChild(right);\n\t\t\n\t\telement.after(container);\n\t}\n\t\n\trows(element) {\n\t\tif( element.style.height && element.style.height != '32px' ) {\n\t\t\telement.style.height = '32px';\n\t\t}\n\t\t\n\t\tif( element.scrollHeight != element.clientHeight ) {\n\t\t\telement.style.height = (element.scrollHeight + 32) + 'px';\n\t\t}\n\t}\n\t\n\tborders(element) {\n\t\tlet leftWidth = this.prev(element).offsetLeft;\n\t\tlet middleWidth = this.widths(this.prev(element), this.prev(element).offsetWidth)+ 2;\n\t\tlet rightWidth = element.offsetWidth - middleWidth - leftWidth;\n\t\tlet firstChild = this.next(element).firstElementChild;\n\t\t\n\t\tfirstChild.style.width = leftWidth + 'px';\n\t\tthis.next(firstChild).style.width = middleWidth + 'px';\n\t\tthis.next(firstChild).classList.add('sf-label-no-border-top');\n\t}\n}\n\n(function() {\n\tnew FormControl;\n})();\n"],
"names":["FormControl","constructor","default","event","element","elements","create","empty","class","prev","contains","planimate","control","blur","next","className","indexOf","rows","addEventListener","focus","swap","remove","add","borders","data","filled","type","firstElementChild","classList","originaltext","innerHTML","list","blacklist","query","nextElementSibling","push","document","querySelectorAll","description","old","callback","style","transition","dataset","previousElementSibling","value","undefined","length","innerText","trim","widths","width","div","createElement","container","left","middle","right","appendChild","after","height","scrollHeight","clientHeight","leftWidth","offsetLeft","middleWidth","offsetWidth","rightWidth","firstChild"]
}
